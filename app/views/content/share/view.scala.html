@(content: models.Content, resourceLibraryUrl: String, embed: Boolean = false)

@contentIcons = @{
    Map(
        'video -> "icon-film",
        'audio -> "icon-volume-up",
        'image -> "icon-picture",
        'text -> "icon-file",
        'playlist -> "icon-list-ol",
        'activity -> "icon-pencil"
    )
}

<!DOCTYPE html>
<html>
    <head>
        <title>Ayamel - @content.name</title>

        @views.html.resources.stylesheets(
          List(
            ("screen", "stylesheets/bootstrap.min.css"),
            ("screen", "stylesheets/bootstrap-responsive.min.css"),
            ("screen", "stylesheets/font-awesome.min.css"),
            ("screen", "stylesheets/main.css"),
            ("screen", "stylesheets/content.css")
          )
        )

        <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
        <script src="@routes.Assets.at("javascripts/jquery-1.9.0.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/bootstrap.min.js")" type="text/javascript"></script>

        <script src="@routes.Assets.at("javascripts/ActivityStreams.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/mustache.js")" type="text/javascript"></script>

        <link rel="stylesheet" href="@routes.Assets.at("Ayamel.js/js/player2/css/player2.css")"/>

        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/async.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/Resource.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/swfobject.js")"></script>

        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/Ayamel.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/AyamelPlayer.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/CaptionTrackLoader.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/ControlBar.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/FullScreenHandler.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/KeyBinder.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/MediaPlayer.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/ProgressBar.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/controls/CaptionsMenu.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/controls/FullScreenButton.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/controls/PlayButton.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/controls/TimeCode.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/controls/VolumeSlider.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/plugins/html5Video.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/plugins/html5Audio.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("Ayamel.js/js/player2/js/plugins/youtube.js")"></script>

            <!-- Caption rendering and timed text -->
        <script type="text/javascript" src="@routes.Assets.at("Caption-Renderer/caption-renderer.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("TimedText/TimedText.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("TimedText/TextTrack.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("TimedText/TextTrackCue.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("TimedText/WebVTT.js")"></script>

            <!-- Translation Engines -->
        <script type="text/javascript" src="@routes.Assets.at("javascripts/Translate.js/TranslationEngine.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/Translate.js/TextTranslator.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/Translate.js/ArcliteTranslationEngine.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/Translate.js/GoogleTranslationEngine.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/Translate.js/WordReferenceTranslationEngine.js")"></script>

            <!-- Content rendering -->
        <script type="text/javascript" src="@routes.Assets.at("javascripts/BoxDrawingCanvas.js")"></script>

        <script type="text/javascript" src="@routes.Assets.at("javascripts/contentRendering/AdditionalDocumentLoader.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/contentRendering/ContentLayoutManager.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/contentRendering/ContentRenderer.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/contentRendering/TranscriptDisplay.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/contentRendering/ImageRenderer.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/contentRendering/TextRenderer.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/contentRendering/VideoRenderer.js")"></script>

        <script type="text/javascript" src="@routes.Assets.at("javascripts/annotating/ImageAnnotation.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/annotating/TextAnnotation.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/annotating/AnnotationManifest.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/annotating/ImageAnnotator.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/annotating/TextAnnotator.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/annotating/AnnotationLoader.js")"></script>

            <!-- OAuth and Cryptography -->
        <script type="text/javascript" src="@routes.Assets.at("javascripts/sha1.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/oauth.js")"></script>
        <script type="text/javascript" src="@routes.Assets.at("javascripts/OAuthSigner.js")"></script>

        <script type="text/javascript">
            $(function() {
                // Register the page for later activity stream calls
                ActivityStreams.registerPage("content", "share:view", [@content.id.get][0]);

                // Save the page load
                ActivityStreams.predefined.pageload();
            });
        </script>
    </head>
    <body class="@if(embed) { embed }">

        @if(!embed) {
            <div class="headerBar">
                <div class="container">
                    <div class="pull-left">
                        <a href="@routes.Application.index()"><div class="logo"></div></a>
                    </div>
                </div>
            </div>

            <div class="container">
                <div class="mainContent">
                    <div class="padded">
                        <h1><i class="@contentIcons(content.contentType)"></i> @content.name</h1>
                        <div id="contentHolder" class="@content.contentType.name"></div>
                    </div>
                </div>
            </div>
        } else {
            <div class="embedHeader">
                <div class="pull-left">
                    <h3><i class="@contentIcons(content.contentType)"></i> @content.name</h3>
                </div>
                <div class="pull-right">
                    <a id="ayamelLink" class="pad-right-med" href="@routes.Application.index()"><img src="@routes.Assets.at("images/logo-small-light.png")"></a>
                </div>
            </div>
            <div class="embedContainer @content.contentType.name">
                <div id="contentHolder"></div>
            </div>
        }

        <script type="text/javascript">
            $(function() {

                // Set up the environment
                ContentRenderer.setResourceLibraryUrl("@resourceLibraryUrl");

                // Render the content
                var content = [@Html(content.toJson.toString())][0];
                var contentHolder = $("#contentHolder")[0];
                ContentRenderer.render({
                    content: content,
                    holder: contentHolder,
                    annotate: true
                });

                $("#ayamelLink").click(function() {
                    var href = $(this).attr("href");
                    window.top.location = href;
                    return false;
                });

                // Hide the header
                setTimeout(function () {
                    $(".embedHeader").addClass("outOfTheWay");
                }, 1000)
            });
        </script>

        <!-- Google Analytics -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-39697543-1', 'byu.edu');
            ga('send', 'pageview');

        </script>

    </body>
</html>