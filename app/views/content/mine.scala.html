@()(implicit request: RequestHeader, user: User)

@main("Ayamel - My Content", Local(CSS("stylesheets/content.css"))) {
    <div class="padded">

        <div>
            <h1 class="pull-left">My Content</h1>
            <a href="@routes.ContentController.createPage("file")" class="btn btn-blue pull-right pad-right-high pad-top-med">Add Content</a>
        </div>

        <div class="clearfix"></div>

        <p>
            The following is a list of content that you have added to Ayamel.
        </p>
        <p>
            For help browsing and navigating content, please refer to the <em>Content Browsing</em>
            <a href="@routes.HelpPages.tableOfContents()">help pages</a>.
        </p>

        <div id="myContent" class="pad-top-high pad-bottom-high"></div>
        <script type="text/javascript">
            $(function() {
                ContentItemRenderer.renderAll({
                    content: [@Html(user.getContent.map(_.toJson).mkString(","))],
                    holder: document.getElementById("myContent"),
                    format: "auto",
                    sizing: true,
                    sorting: true,
                    labels: [@Html(user.getContent.flatMap(_.labels).map(s => "\"" + s + "\"").mkString(","))],
                    filters: ContentItemRenderer.standardFilters
                });
            });
        </script>

        <a href="@routes.ContentController.createPage("file")" class="btn btn-blue">Add Content</a>
    </div>
}
