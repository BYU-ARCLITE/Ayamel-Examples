<!doctype html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title></title>

    <script type="text/javascript" src="javascripts/jquery-1.9.0.min.js"></script>
    <script type="text/javascript" src="javascripts/angular.min.js"></script>

    <link rel="stylesheet" href="stylesheets/bootstrap.min.css"/>
    <link rel="stylesheet" href="stylesheets/font-awesome.css"/>
    <link rel="stylesheet" href="Ayamel.js/js/player2/css/player2.css"/>

    <script type="text/javascript" src="javascripts/exercises/ExerciseHandler.js"></script>
    <script type="text/javascript" src="javascripts/exercises/questions/MultipleChoice.js"></script>

    <style type="text/css">
        .prompt {
            background: #f5f5f5;
            padding: 5px;
            margin: 20px 0 5px 0;
        }
    </style>
</head>
<body ng-app>

<div ng-controller="QuestionsController" class="container">

    <!--Exercise creation box-->
    <div>
        <h2>Create a new exercise</h2>
        <div style="display: inline-block">
            <div class="well">
                <div>
                    <label for="questionPrompt">Prompt</label>
                    <input id="questionPrompt" type="text" ng-model="questionPrompt" placeholder="Question Prompt"/>
                </div>
                <div>
                    <label for="questionType">Question Type</label>
                    <select ng-model="questionType" id="questionType">
                        <option value="checkbox">MC: Check box</option>
                        <option value="radio">MC: Radio button</option>
                        <option value="text">Free: Text input</option>
                    </select>
                </div>
                <div>
                    <label for="optionText">Choices</label>
                    <ul ng-repeat="choice in choices">
                        <li>{{choice.text}} <a href="#" ng-click="choice.remove()"><i class="icon-trash"></i></a></li>
                    </ul>
                    <div class="form-inline">
                        <input type="text" id="optionText" placeholder="Option text" ng-model="optionText"/>
                        <button ng-click="addChoice()" class="btn">Add Option</button>
                    </div>
                </div>
                <hr>
                <button ng-click="createQuestion()" class="btn btn-primary">Create Question</button>
            </div>
        </div>
    </div>

    <!--List of exercises-->
    <h2>Your Exercises</h2>
    <div>
        <div ng-repeat="question in questions">
            <div class="prompt">{{question.prompt}}</div>
            <div ng-repeat="choice in question.choices">
                {{choice}}
            </div>
        </div>
    </div>

</div>

<script type="text/javascript">
    function QuestionsController($scope) {
        $scope.choices = [];
        $scope.questionType = "checkbox";
        $scope.addChoice = function() {
            if ($scope.optionText) {
                $scope.choices.push({
                    text: $scope.optionText,
                    remove: function() {
                        $scope.choices.splice($scope.choices.indexOf(this), 1);
                    }
                });
                $scope.optionText = "";
            }
        };
        $scope.questions = [];

        $scope.createQuestion = function() {
            $scope.questions.push(ExerciseHandler.createQuestion({
                prompt: $scope.questionPrompt,
                choices: $scope.choices.slice(0).map(function(c){return c.text;}),
                type: $scope.questionType
            }));
        };
    }
</script>


</body>
</html>